"use strict";(self.webpackChunknik=self.webpackChunknik||[]).push([[985],{2985:(O,d,r)=>{r.r(d),r.d(d,{ContactModule:()=>b});var e=r(285),o=r(6814),g=r(3142),v=r(8152),S=r(9352),t=r(7446),Z=r(6240);let C=(()=>{class n{constructor(){this.result=new v.xQ}getResult(){return this.result}submitContactForm(a){Z.lW("gmail","nikdatsko_contact_form",a,"user_epLRYw7lhfXeRFIyhhy04").then(()=>{this.result.next({isFail:!1,message:"Your message has been sent successfully!"})}).catch(s=>{let i;console.log(s),i=s.status?405===s.status?'It\'s impossible to send messages from here so if you really want to use this form do it from\n            <a href="http://nik.niklenburg.com/contact" target="_blank">nik.niklenburg.com</a>':-1===s.status?"Message sending has failed. Please, check you Internet connection or try later.":s.status+". "+s.message:s,this.result.next({isFail:!0,message:i})})}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _=r(2141);function y(n,f){if(1&n&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&n){const a=f.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a," ")}}function u(n,f){if(1&n&&(t.TgZ(0,"span",14),t._UZ(1,"input",15),t.TgZ(2,"label",16),t._uU(3),t.qZA()()),2&n){const a=f.$implicit,s=f.index;t.xp6(1),t.MGl("id","need_",s,""),t.Q6J("formControlName",s),t.xp6(1),t.MGl("for","need_",s,""),t.xp6(1),t.Oqu(a)}}function l(n,f){if(1&n&&(t.TgZ(0,"p",17),t._UZ(1,"span",18),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.ekj("result-fail",a.isFail),t.Q6J("innerHTML",a.result,t.oJD)}}const h=[{path:"",component:(()=>{class n{constructor(a,s){this.fb=a,this.contactService=s,this.occupations=["Business owner","HR manager","Developer","Friend"],this.needs=["Permanent job","Project","Consultation"],this.result=null,this.unsubscribeStream=new v.xQ}ngOnInit(){this.setForm(),this.contactService.getResult().pipe((0,S.R)(this.unsubscribeStream)).subscribe(({isFail:a,message:s})=>{this.isSubmitted=!1,this.isFail=a,this.result=s,a||this.contactForm.reset()})}ngOnDestroy(){this.unsubscribeStream.next()}onSubmit(){if(this.contactForm.invalid)return;this.isSubmitted=!0,this.result=null;const a=this.contactForm.value.needs.map((i,R)=>i&&this.needs[R]).filter(i=>!!i).join(", "),s={...this.contactForm.value,needs:a||"unspecified reason"};this.contactService.submitContactForm(s)}setForm(){this.contactForm=this.fb.group({name:["",e.kI.required],email:["",e.kI.email],occupation:["",e.kI.required],needs:this.fb.array(this.needs.map(a=>!1)),message:["",e.kI.required]})}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(e.QS),t.Y36(C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact"]],decls:24,vars:7,consts:[[1,"header"],["article",""],[1,"contact-form",3,"formGroup","ngSubmit"],["formControlName","name","type","text","placeholder","Name"],["formControlName","email","type","email","placeholder","Email"],["formControlName","occupation"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["formArrayName","needs","class","checkbox",4,"ngFor","ngForOf"],["formControlName","message","placeholder","Type your message..."],[1,"right"],["type","submit","value","Send",3,"disabled"],["class","left",4,"ngIf"],[3,"value"],["formArrayName","needs",1,"checkbox"],["type","checkbox",3,"formControlName","id"],[3,"for"],[1,"left"],[1,"result",3,"innerHTML"]],template:function(s,i){1&s&&(t.TgZ(0,"header",0)(1,"h1"),t._uU(2,"Contact me"),t.qZA()(),t.TgZ(3,"app-section"),t.ynx(4,1),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(6,"p"),t._UZ(7,"input",3),t.qZA(),t.TgZ(8,"p"),t._UZ(9,"input",4),t.qZA(),t.TgZ(10,"p")(11,"select",5)(12,"option",6),t._uU(13,"Your occupation..."),t.qZA(),t.YNc(14,y,2,2,"option",7),t.qZA()(),t.TgZ(15,"p"),t._uU(16,"Why do you need me?"),t.qZA(),t.TgZ(17,"p"),t.YNc(18,u,4,4,"span",8),t.qZA(),t.TgZ(19,"p"),t._UZ(20,"textarea",9),t.qZA(),t.TgZ(21,"p",10),t._UZ(22,"input",11),t.qZA(),t.YNc(23,l,2,3,"p",12),t.qZA(),t.BQk(),t.qZA()),2&s&&(t.xp6(5),t.ekj("contact-form-submitted",i.isSubmitted),t.Q6J("formGroup",i.contactForm),t.xp6(9),t.Q6J("ngForOf",i.occupations),t.xp6(4),t.Q6J("ngForOf",i.needs),t.xp6(4),t.Q6J("disabled",i.contactForm.invalid||i.isSubmitted),t.xp6(1),t.Q6J("ngIf",!!i.result))},dependencies:[o.sg,o.O5,_.e,e._Y,e.YN,e.Kr,e.Fj,e.Wl,e.EJ,e.JJ,e.JL,e.sg,e.u,e.CE],styles:['@keyframes _ngcontent-%COMP%_animation{0%{transform:scale(1.5)}50%{transform:scale(1)}to{transform:scale(1.5)}}@keyframes _ngcontent-%COMP%_in-right{0%{transform:translate3d(100%,0,0)}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_in-left{0%{transform:translate3d(-100%,0,0)}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_in-top{0%{transform:translate3d(0,-100%,0)}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_in-bottom{0%{transform:translate3d(0,100%,0)}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_out-right{0%{transform:translateZ(0)}to{transform:translate3d(100%,0,0)}}@keyframes _ngcontent-%COMP%_out-left{0%{transform:translateZ(0)}to{transform:translate3d(-100%,0,0)}}@keyframes _ngcontent-%COMP%_out-top{0%{transform:translateZ(0)}to{transform:translate3d(0,-100%,0)}}@keyframes _ngcontent-%COMP%_out-bottom{0%{transform:translateZ(0)}to{transform:translate3d(0,100%,0)}}.contact-form[_ngcontent-%COMP%]:after{display:block;content:"";clear:both}.checkbox[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin-right:1em}@media (max-width: 600px){.checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:10px}}.result[_ngcontent-%COMP%]{color:#2ca02c}.result-fail[_ngcontent-%COMP%]{color:#bd2031}.result-fail[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}.left[_ngcontent-%COMP%]{width:75%}.right[_ngcontent-%COMP%]{width:25%;text-align:right}header[_ngcontent-%COMP%]{padding:10px}']})}return n})()}];let m=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(h),g.Bz]})}return n})();var p=r(6208);let b=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[o.ez,m,p.m,e.u5,e.UX]})}return n})()},6240:(O,d,r)=>{var o=r(3225),v=(r(8902),null),S="https://api.emailjs.com";function t(u,l,c){return void 0===c&&(c={}),new Promise(function(h,m){var p=new XMLHttpRequest;for(var b in p.addEventListener("load",function(n){var f=new o.EmailJSResponseStatus(n.target);200===f.status||"OK"===f.text?h(f):m(f)}),p.addEventListener("error",function(n){m(new o.EmailJSResponseStatus(n.target))}),p.open("POST",u,!0),c)p.setRequestHeader(b,c[b]);p.send(l)})}function Z(u){var l=document.getElementById("g-recaptcha-response");return l&&l.value&&(u["g-recaptcha-response"]=l.value),l=null,u}d.lW=function _(u,l,c,h){var m={lib_version:"2.4.1",user_id:h||v,service_id:u,template_id:l,template_params:Z(c)};return t(S+"/api/v1.0/email/send",JSON.stringify(m),{"Content-type":"application/json"})}},3225:(O,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EmailJSResponseStatus=function e(o){this.status=o.status,this.text=o.responseText}},8902:(O,d)=>{Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function e(){}return e.clearAll=function(o){o.classList.remove(this.PROGRESS),o.classList.remove(this.DONE),o.classList.remove(this.ERROR)},e.progressState=function(o){this.clearAll(o),o.classList.add(this.PROGRESS)},e.successState=function(o){o.classList.remove(this.PROGRESS),o.classList.add(this.DONE)},e.errorState=function(o){o.classList.remove(this.PROGRESS),o.classList.add(this.ERROR)},e.PROGRESS="emailjs-sending",e.DONE="emailjs-success",e.ERROR="emailjs-error",e}();d.UI=r}}]);